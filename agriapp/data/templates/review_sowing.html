{% extends "base.html" %}
{% import 'macros.html' as macro %}

{% block title %}
Review Yield/Sowing Information
{% endblock %}

{% block content %}
<div class="col align-self-start mx-1">	
	
	<!-- show sow/yield infor for change/remove -->
	{% if form is defined and form %}

	<form action="{{ url_for('data.change_remove_yield_sow', option=option, desired_id=desired_id) }}", method="POST" class="g-3 rounded-3 bg-light px-2 mx-2">
		{{ form.csrf_token() }}

		<!-- row 1 -->
		<div class="row mb-2">
			<div class="form-group col">
        		{{ form.season.label }}
        		{{ form.season(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.season.errors) }}              
      		</div>  
      		<div class="form-group col">
        		{{ form.location.label }}
        		{{ form.location(class="form-control", id="floatingInput", disabled=True, readonly=True) }}
        		{{ macro.err_out(form.location.errors) }}              
      		</div>  

      		{% if option == 'sow' %}

      		<div class="form-group col">
        		{{ form.sowing_date.label }}
        		{{ form.sowing_date(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.sowing_date.errors) }}              
      		</div>  

      		{% elif option == 'yield' %}

      		<div class="form-group col">
        		{{ form.yields.harvest_date.label }}
        		{{ form.yields.harvest_date(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.harvest_date.errors) }}              
      		</div>  
      		<div class="form-group col">
        		{{ form.yields.sell_date.label }}
        		{{ form.yields.sell_date(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.sell_date.errors) }}              
      		</div>  
      		{% endif %}
		</div>

		<!-- row 2 -->
		<div class="row mb-2">

			{% if option == 'sow' %}

			<div class="form-group col">
        		{{ form.sow_info.field_area.label }}
        		{{ form.sow_info.field_area(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.sow_info.field_area.errors) }}              
      		</div> 
      		<div class="form-group col">
        		{{ form.sow_info.variety.label }}
        		{{ form.sow_info.variety(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.sow_info.variety.errors) }}              
      		</div> 
      		<div class="form-group col">
        		{{ form.sow_info.bags.label }}
        		{{ form.sow_info.bags(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.sow_info.bags.errors) }}              
      		</div> 	
      		<div class="form-group col">
        		{{ form.sow_info.duration.label }}
        		{{ form.sow_info.duration(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.sow_info.duration.errors) }}              
      		</div> 		

      		{% elif option == 'yield' %}	

      		<div class="form-group col">
        		{{ form.yields.bags.label }}
        		{{ form.yields.bags(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.bags.errors) }}              
      		</div> 
      		<div class="form-group col">
        		{{ form.yields.bag_weight.label }}
        		{{ form.yields.bag_weight(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.bag_weight.errors) }}              
      		</div> 
      		<div class="form-group col">
        		{{ form.yields.bag_rate.label }}
        		{{ form.yields.bag_rate(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.bag_rate.errors) }}              
      		</div> 
      		<div class="form-group col">
        		{{ form.yields.buyer.label }}
        		{{ form.yields.buyer(class="form-control", id="floatingInput") }}
        		{{ macro.err_out(form.yields.buyer.errors) }}              
      		</div> 

      		{% endif %}

		</div>

		<!-- row 3 -->		
		<div class="form-group col mt-4">	
			{{ form.option.label }}:		
			{% for subfield in form.option %}
				{{ subfield(id="floatingInput") }}
				{{ subfield.label }}				
			{% endfor %}			
		</div>

		<!-- row 4 -->
		<div class="col-md-2 align-items-center text-center my-2">
          {{ form.submit(class="align-items-center btn btn-primary") }}
      </div> 
	</form>
	
	{% else %}

	<p>No form defined</p>

	{% endif %}
</div>
{% endblock %}